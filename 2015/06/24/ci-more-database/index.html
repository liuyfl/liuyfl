<!DOCTYPE html>
<html>
	<!-- Head tag -->
	<head>
	<meta chartset="utf-8">
	<meta http=equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="icon" href="favicon/favicon.ico">
	<title>liuyf's blog</title>

	<!-- Bootstrap core css -->
	<link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" type="text/css" async>
	<!-- Blog css -->
	<link rel="stylesheet" href="/css/blog.css" type="text/css" async>
</head>

	<body>
		<!-- Menu -->
		<!-- Navigation -->
<div class="blog-nav">
	<div class="blog-nav-inner">
		<div class="container">
			<div class="blog-navbar">
				<a href="/" class="logo"><img src="/images/logo.png"></a>
				<nav class="navbar-nav">
					
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/tags">标签</a></li>
					
				</nav>
			</div>
		</div>
	</div>
	<div class="blog-nav-bg" style="background-image:url('/images/bg3.jpg');"></div>
</div>

		
		<link rel="stylesheet" href="/css/font-awesome.css">
<article class="article">
	<div class="container">
		
			<div class="article-title">CI连接多个数据库</div>
			<div class="article-time">Jun 24 , 2015</div> 
			<div class="article-content">
				<div class="article-inner"><br>参考<a href="http://codeigniter.org.cn/user_guide/database/connecting.html">http://codeigniter.org.cn/user_guide/database/connecting.html</a>手册<br>首先,在database.php中设置多个数据库的连接信息,这里命名为’test’<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">$db[&apos;test&apos;][&apos;hostname&apos;] = &quot;localhost&quot;;</div><div class="line">$db[&apos;test&apos;][&apos;username&apos;] = &quot;root&quot;;</div><div class="line">$db[&apos;test&apos;][&apos;password&apos;] = &quot;&quot;;</div><div class="line">$db[&apos;test&apos;][&apos;database&apos;] = &quot;database_name&quot;;</div><div class="line">$db[&apos;test&apos;][&apos;dbdriver&apos;] = &quot;mysql&quot;;</div><div class="line">$db[&apos;test&apos;][&apos;dbprefix&apos;] = &quot;&quot;;</div><div class="line">$db[&apos;test&apos;][&apos;pconnect&apos;] = TRUE;</div><div class="line">$db[&apos;test&apos;][&apos;db_debug&apos;] = FALSE;</div><div class="line">$db[&apos;test&apos;][&apos;cache_on&apos;] = FALSE;</div><div class="line">$db[&apos;test&apos;][&apos;cachedir&apos;] = &quot;&quot;;</div><div class="line">$db[&apos;test&apos;][&apos;char_set&apos;] = &quot;utf8&quot;;</div><div class="line">$db[&apos;test&apos;][&apos;dbcollat&apos;] = &quot;utf8_general_ci&quot;;</div><div class="line">$db[&apos;test&apos;][&apos;swap_pre&apos;] = &quot;&quot;;</div><div class="line">$db[&apos;test&apos;][&apos;autoinit&apos;] = TRUE;</div><div class="line">$db[&apos;test&apos;][&apos;stricton&apos;] = FALSE;</div></pre></td></tr></table></figure>记得把配置中的pconnect改为false,其他的不变<br>加载数据库<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$this-&gt;db1=$this-&gt;load-&gt;database(&apos;default&apos;,TRUE);</div><div class="line">$this-&gt;db2=$this-&gt;load-&gt;database(&apos;test&apos;,TRUE);</div></pre></td></tr></table></figure>调用数据库函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$this-&gt;db1-&gt;get(&apos;news&apos;)-&gt;result-array();</div><div class="line">$this-&gt;db1-&gt;where(&apos;name&apos;,&apos;test&apos;);</div><div class="line">$this-&gt;db1-&gt;get(&apos;news&apos;)-&gt;result-array();</div></pre></td></tr></table></figure>这就可以实现连接多个数据库了</p></div>
				<div class="article-actions">
				
					<a class="article-action-btn article-action-prev" href="/2015/07/21/css-div-events/PREVIOUS</a>
				
				
			</div>
			</div>
		
	</div>
</article>

		<!-- Footer -->
		<footer class="blog-footer">
	<p>The template theme built for bootstrap</p>
	<p> Adapted for Hexo by liuyf</p>
</footer>
<div class="bg-flower" style="background-image:url('/images/flower.png');"></div>
<!--
style="background-image:url('/images/flower.png');"
-->

		<!-- After footer scripts -->
		<script src="/js/jquery.min.js"></script>
<script src="/bootstrap/js/bootstrap.min.js"></script>
<script src="/js/script.js"></script>
	</body>
</html>